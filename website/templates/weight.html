{% extends 'base.html' %}
{% block head %}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='login.css')}}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js" integrity="sha512-Wt1bJGtlnMtGP0dqNFH1xlkLBNpEodaiQ8ZN5JLA5wpc1sUlk/O5uuOMNgvzddzkpvZ9GLyYNa8w2s7rqiTk5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}
{% block header %}
  <h1>{% block title %}Weight Analysis{% endblock %}</h1>
{% endblock %}

{% block content %}
  <!-- <input name="weight" class="form-control" placeholder="Log Current Weight" id="weight">
  <button class="button" type="submit">Add</button> -->
  <canvas id="myChart" width="200" height="200"></canvas>
  <script>
  var d = new Date();
  var month = new Array();
    month[0] = "January";
    month[1] = "February";
    month[2] = "March";
    month[3] = "April";
    month[4] = "May";
    month[5] = "June";
    month[6] = "July";
    month[7] = "August";
    month[8] = "September";
    month[9] = "October";
    month[10] = "November";
    month[11] = "December";
    var n = month[d.getMonth()];
  fetch("/{{user.username}}/weights")
  .then(response=>response.json())
  .then(data=>{
      console.log(data);
      console.log(Object.keys(data));
    })
  const labels = [
  'January',
  'February',
  'March',
  'April',
  'May',
  'June',
  ];
  const data = {
    labels: labels,
    datasets: [{
      label: 'Weight Track',
      backgroundColor: 'rgb(255, 99, 132)',
      borderColor: 'rgb(255, 99, 132)',
      data: [30, 35, 35, 40, 40, 40, 47.5],
    }]
  };
  const config = {
    type: 'line',
    data: data,
    options: {}
  };
  var ctx = document.getElementById('myChart');
  ctx.height = '40';
  var myChart = new Chart(
    document.getElementById('myChart'),
    config
  ); 
  </script>
{% endblock %}